script(type='text/javascript').
  // When the window has finished loading create our google map below
  var map;
  var coordinate = [53.907116, 27.561822];
  var lat = coordinate[0];
  var lng = coordinate[1];
  var center = {lat:lat,lng:lng} //Minsk
  var defIcon = "./img/icons/icon-pin.svg"
  var windowXPosition = 220;
  var windowYPosition = 550;
      window.innerWidth <= 1600 ? windowYPosition = 550 : windowYPosition = 620;
      window.onresize = function () {
        setInterval(() => {
        window.innerWidth <= 1600 ? windowYPosition = 550 : windowYPosition = 620;
        
        }, 500);
      };

      
      console.log(windowYPosition);
  var maxWindowWidth= 440;
  var mapElement = document.getElementById("shopMap");
  var mapOptions = {
      zoom: 5.35,
      center: center,
      disableDefaultUI: true, 
      styles: [
        {
          featureType: "all",
          elementType: "labels.text.fill",
          stylers: [
            { saturation: 36 },
            { color: "#333333" },
            { lightness: 40 },
          ],
        },
            {
          featureType: "all",
          elementType: "labels.text.stroke",
          stylers: [
            { visibility: "on" },
            { color: "#ffffff" },
            { lightness: 16 },
          ],
        },
        {
          featureType: "all",
          elementType: "labels.icon",
          stylers: [{ visibility: "off" }],
        },
        {
          featureType: "administrative",
          elementType: "geometry.fill",
          stylers: [{ color: "#fefefe" }, { lightness: 20 }],
        },
        {
          featureType: "administrative",
          elementType: "geometry.stroke",
          stylers: [
            { color: "#fefefe" },
            { lightness: 17 },
            { weight: 1.2 },
          ],
        },
        {
          featureType: "administrative",
          elementType: "labels.text.fill",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "administrative.province",
          elementType: "labels.text.fill",
          stylers: [{ color: "#eeeeee" }],
        },
        {
          featureType: "administrative.locality",
          elementType: "labels.text.fill",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "administrative.neighborhood",
          elementType: "labels.text.fill",
          stylers: [{ color: "#a3a3a3" }],
        },
        {
          featureType: "administrative.land_parcel",
          elementType: "labels.text.fill",
          stylers: [{ color: "#a3a3a3" }],
        },
        {
          featureType: "landscape",
          elementType: "geometry",
          stylers: [{ color: "#f5f5f5" }, { lightness: 20 }],
        },
        {
          featureType: "landscape",
          elementType: "labels.text.fill",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "poi",
          elementType: "geometry",
          stylers: [{ color: "#dddddd" }, { lightness: 21 }],
        },
        {
          featureType: "poi",
          elementType: "labels.text.fill",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "poi.park",
          elementType: "geometry",
          stylers: [{ color: "#eeeeee" }, { lightness: 21 }],
        },
        {
          featureType: "poi.school",
          elementType: "labels.text",
          stylers: [
            { weight: "0.68" },
            { visibility: "on" },
            { color: "#ff0000" },
          ],
        },
        {
          featureType: "poi.school",
          elementType: "labels.text.fill",
          stylers: [
            { color: "#000000" },
            { weight: "0.92" },
            { visibility: "simplified" },
          ],
        },
        {
          featureType: "road.highway",
          elementType: "geometry.fill",
          stylers: [{ color: "#dddddd" }, { lightness: 17 }],
        },
        {
          featureType: "road.highway",
          elementType: "geometry.stroke",
          stylers: [
            { color: "#dddddd" },
            { lightness: 29 },
            { weight: 0.2 },
          ],
        },
        {
          featureType: "road.highway",
          elementType: "labels.text",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "road.arterial",
          elementType: "geometry",
          stylers: [{ color: "#dddddd" }, { lightness: 18 }],
        },
        {
          featureType: "road.arterial",
          elementType: "labels.text.fill",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "road.local",
          elementType: "geometry",
          stylers: [{ color: "#eeeeee" }, { lightness: 16 }],
        },
        {
          featureType: "road.local",
          elementType: "geometry.stroke",
          stylers: [{ color: "#cd282b" }],
        },
        {
          featureType: "road.local",
          elementType: "labels.text",
          stylers: [{ hue: "#ff0000" }],
        },
        {
          featureType: "road.local",
          elementType: "labels.text.fill",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "road.local",
          elementType: "labels.text.stroke",
          stylers: [{ visibility: "on" }],
        },
        {
          featureType: "transit",
          elementType: "geometry",
          stylers: [{ color: "#f2f2f2" }, { lightness: 19 }],
        },
        {
          featureType: "transit",
          elementType: "labels.text.fill",
          stylers: [{ color: "#000000" }],
        },
        {
          featureType: "water",
          elementType: "geometry",
          stylers: [{ color: "#eeeeee" }, { lightness: 17 }],
        },
      ],
    };
  var markers = [
      {
          "title": "220088, Г. Брест,ул. Смоленская, 33",
          "lat": "52.130218",
          "lng": "23.706738",
          "image": "./img/map-popup-image.jpg",
          "workTimes":
            [
              ""
            ],
          
      },
      {
          "title": 'г. Брест, ул. Писателя Смирнова, 4',
          "lat": '52.095170',
          "lng": '23.645024',
          content: `<article  class="map-popup">
                  <div class="map-popup__image">
                    <img class="img--full img--center" loading="lazy" draggable="false" src='./img/map-popup-image.jpg'>
                  </div>
                  <h6 class="map-popup__title">Магазин “Консум”</h6>
                  <p class="map-popup__address">г. Брест, ул. Писателя Смирнова, 4</p>
                  <p class="map-popup__subtitle">Режим работы:</p>
                  <ul class="map-popup__list">
                    <li class="map-popup__list-item">
                      Понедельник – пятница 10:00-19:00
                    </li>
                    <li class="map-popup__list-item">
                      Суббота 10:00-17:00, Воскресенье - Выходной
                    </li>
                  </ul>
                  <p class="map-popup__subtitle">Телефоны:</p>
                  <ul class="map-popup__list">
                    <li class="map-popup__list-item">
                      <a href="tel:+375 (212) 61-45-98">
                        +375 (212) 61-45-98
                      </a>
                      
                    </li>
                  </ul>
                </article>`
      }
    ]; 
  
  
  function init() {
    var infoWindow = new google.maps.InfoWindow();
    map = new google.maps.Map(mapElement, mapOptions);
    for (var i = 0; i < markers.length; i++) {
            var marker = markers[i];
            var myLatlng = new google.maps.LatLng(marker.lat, marker.lng);
            var marker = new google.maps.Marker({
                position: myLatlng,
                map: map,
                title: marker.title,
                icon: defIcon,
            });

            //Attach click event to the marker.
            (function (marker, marker) {
                google.maps.event.addListener(marker, "click", function (e) {
                    //Wrap the content inside an HTML DIV in order to set height and width of InfoWindow.
                    infoWindow.setContent(`<article  class="map-popup">
                      <div class="map-popup__image">
                        <img class="img--full img--center" loading="lazy" draggable="false" src="${marker.image}">
                      </div>
                      <h6 class="map-popup__title">Магазин “Консум”</h6>
                      <p class="map-popup__address">${marker.title}</p>
                      <p class="map-popup__subtitle">Режим работы:</p>
                      <ul class="map-popup__list">
                        ${marker.workTimeWeekDays 
                          ? `<li class="map-popup__list-item">
                              ${marker.workTimeWeekDays}
                            </li>` 
                          : ""}
                        ${marker.workTimeWeekends 
                          ? `<li class="map-popup__list-item">
                              ${marker.workTimeWeekends}
                            </li>` 
                          : ""}
                        ${marker.cleanDay 
                          ? `<li class="map-popup__list-item">
                              ${marker.cleanDay}
                            </li>` 
                          : ""}
                      </ul>
                      <p class="map-popup__subtitle">Телефоны:</p>
                      <ul class="map-popup__list">
                        <li class="map-popup__list-item">
                          <a href="tel:8 (017) 243 43 89">
                            8 (017) 243 43 89
                          </a>
                          <a href="tel:8 (017) 365 28 46">
                            8 (017) 365 28 46
                          </a>
                        </li>
                      </ul>
                    </article>`);
                    
                    infoWindow.open(map, marker);
                });
            })(marker, marker);
        }
  }
  google.maps.event.addDomListener(window, "load", init);

